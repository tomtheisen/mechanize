@import "prefixer.less";

@font-face {
  font-family: 'Aldrich';
  font-style: normal;
  font-weight: 400;
  src: local('Aldrich'), url(aldrich.woff) format('woff');
}

@background: #272D40;
@panel: #364659;
@accent: #55736D;
@highlight: #D0D3B8;
@green: #9DBF8E;  // ?

html {
	height: 100%;
	margin: 0;
}

body {
	font-family: 'Aldrich', sans-serif;
	background-color: @background;
	color: @highlight;
	height: 100%;
	margin: 0;
}

h1, h2, h3, h4, h5, h6 {
	margin: 1rem 0;
}

#loadingMessage {
	padding: 3rem;
}

button {
	background-color: @accent;
	color: @highlight;
	border-width: 0px;
	.border-radius(16px);
	height: 32px;
	padding: 0 32px;
	line-height: 32px;
	font-family: 'Aldrich', sans-serif;
	font-size: 1rem;
}

#gameSurface {
	width: 100%;
	height: 100%;
}

#game-controls {
	position: absolute;
	margin: 16px;
	right: 0;
}

#notifications {
	position: absolute;
	margin: 16px;
	right: 0;
	bottom: 0;
	
}

.progress {
	box-sizing: border-box;
	height: 32px;
	.border-radius(0 16px 16px 0);
	padding: 8px 8px 8px 0;
	overflow: hidden;
	margin: 1rem 0;
	background-color: @accent;

	.value {
		.border-radius(0 8px 8px 0);
		height: 16px;
		text-indent: 1em;
		font-size: 0.8rem;
		background-color: @highlight;
		color: @panel;
		overflow: hidden;
		position: relative;
		white-space: nowrap;
	}
}

.panel {
	.border-radius(16px);
	background-color: @panel;
	padding: 16px;
	margin: 16px;
	display: inline-block;
	vertical-align: top;
}

.resource-container {
	overflow: auto;
	margin-top: 16px;
	padding: 8px;
	background-color: #0D1216;
	border: solid @accent 8px;
	.border-radius(8px);
}

.wrap-every(@n) {
  	&:nth-child(@{n}n+1) {
        clear: left;
    }
}

.resource {
	float: left;
	width: 32px;
	height: 32px;
	margin: 1px;
	.box-sizing(border-box);
	position: relative;

	background-image: url(img/resource-tiles.png);
	
	.wrap-every(8);
	
	&.none {
		background-color: black;
		background-image: none;
	}

	.collect-delay(@delay) {
		&:hover {
			.collect-progress 	{ .transition-duration(@delay); }
			.collector 			{ .transition-delay(@delay); }
		}
	}

	&.rock {
		background-position-x: 0px;
		.collect-delay(2s);
	}

	&.iron {
		background-position-x: -32px;
		.collect-delay(5s);
	}

	.collect-progress {
		width: 0%;
		height: 10%;
		position: absolute;
		background-color: @green;
	}

	.collector {
		width: 100%;
		height: 100%;
		position: absolute;
		visibility: hidden;

		background-color: white;
		.opacity(0.2);
	}

	&:hover {
		.collect-progress {
			.transition-timing-function(linear);
			width: 100%;
		}

		.collector {
			visibility: visible;
			cursor: pointer;
		}
	}
}

.active {
	border: solid #ccc 1px;
	.animation-name(active-pulse);
	.animation-duration(0.5s);
	.animation-iteration-count(infinite);
	.animation-direction(alternate);
}

// come on LESS, get your shit together
@-o-keyframes active-pulse { from {border-color: #333;} to {border-color: #ddd;}}
@-moz-keyframes active-pulse { from {border-color: #333;} to {border-color: #ddd;}}
@-webkit-keyframes active-pulse { from {border-color: #333;} to {border-color: #ddd;}}
@keyframes active-pulse { from {border-color: #333;} to {border-color: #ddd;}}

#inventory {
	.resource { cursor: pointer; }
	.resource.none { cursor: default; }
}
